(this["webpackJsonpmy-todolist"]=this["webpackJsonpmy-todolist"]||[]).push([[0],{62:function(e,t,n){e.exports={suggestions:"styles_suggestions__3O27_"}},68:function(e,t,n){e.exports=n(85)},84:function(e,t,n){},85:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(20),i=n.n(c),l=n(29),o=n(23),s=n(56),u=n(57),h=n.n(u),E=n(13),m="3897463698fab29cbf0f47eca9ac50d5",p={isFetching:!1,error:"",cities:[],citiesSearchMatch:[]},d={isFetching:!1,error:"",dailyForecast:[],cityName:""},f=Object(o.c)({weather:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LIST/DELETE_LIST":return Object(E.a)(Object(E.a)({},e),{},{cities:e.cities.filter((function(e){return e.id!==t.payload}))});case"WEATHER/GET_WEATHER_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{isFetching:!0});case"WEATHER/GET_WEATHER_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{isFetching:!1,cities:t.payload.cities});case"WEATHER/GET_WEATHER_FAILURE":return Object(E.a)(Object(E.a)({},e),{},{isFetching:!1,error:t.payload});case"WEATHER/MATCH_CITIES":return Object(E.a)(Object(E.a)({},e),{},{citiesSearchMatch:t.payload});default:return e}},dailyForecast:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WEATHER/GET_DAILY_FORECAST_REQUEST":return Object(E.a)(Object(E.a)({},e),{},{isFetching:!0});case"WEATHER/GET_DAILY_FORECAST_SUCCESS":return Object(E.a)(Object(E.a)({},e),{},{isFetching:!1,dailyForecast:t.payload.dailyForecast,cityName:t.payload.cityName});case"WEATHER/GET_DAILY_FORECAST_FAILURE":return Object(E.a)(Object(E.a)({},e),{},{isFetching:!1,error:t.payload});default:return e}}}),y=function(e){return function(t){t({type:"WEATHER/GET_WEATHER_REQUEST"});try{fetch(e).then((function(e){return e.json()})).then((function(n){console.log(e),t({type:"WEATHER/GET_WEATHER_SUCCESS",payload:{cities:n.list}})}))}catch(n){t({type:"WEATHER/GET_WEATHER_FAILURE",payload:n})}}},g=Object(o.e)(f,Object(o.d)(Object(o.a)(s.a,h.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),v=JSON.parse(localStorage.getItem("WEATHER")),b=v&&0!==v.length?v:[524901,703448,2643743],T="https://api.openweathermap.org/data/2.5/group?id=".concat(b.join(),"&units=metric&appid=").concat(m);g.dispatch(y(T)),g.subscribe((function(){var e=g.getState().weather.cities.map((function(e){return e.id}));localStorage.setItem("WEATHER",JSON.stringify(e))}));var w=n(16),O=n(37),F=n(8),_=n(17),j=(n(77),function(e){var t="//api.openweathermap.org/data/2.5/forecast?id=".concat(e,"&appid=").concat(m);return console.log(t),function(e){e({type:"WEATHER/GET_DAILY_FORECAST_REQUEST"});try{fetch(t).then((function(e){return e.json()})).then((function(t){e({type:"WEATHER/GET_DAILY_FORECAST_SUCCESS",payload:{dailyForecast:t.list,cityName:t.city.name}})}))}catch(n){e({type:"WEATHER/GET_DAILY_FORECAST_FAILURE",payload:n})}}}),S=n(107),A=n(61),R=n.n(A),C=n(108),x=n(112),L=n(106);function I(){var e=Object(w.a)(["\n list-style:none;\n padding-left:0;\n  li {\n    display: flex;\n    flex-direction: row;\n    justify-content: space-between;\n      span {\n        font-size:.8rem;\n        }\n }\n"]);return I=function(){return e},e}function W(){var e=Object(w.a)(["\n font-size:3rem;\n font-weight:bold;\n"]);return W=function(){return e},e}function D(){var e=Object(w.a)(["\n  display:flex;\n  flex-direction:row;\n  justify-content: space-between;\n  align-items: center;\n    img {\n        width: 30%;\n    }\n    a {\n      color:#000;\n    }\n"]);return D=function(){return e},e}var H=_.a.div(D()),N=_.a.div(W()),k=_.a.ul(I()),M=function(e){var t=e.weather,n=e.idList,a=e.deleteList,c=e.getDailyForecast;return r.a.createElement(x.a,{style:{background:"rgba(255, 255, 255, .7)",margin:"35px 40px",maxWidth:"320px",width:"320px"}},r.a.createElement(L.a,null,r.a.createElement(H,null,t.name&&r.a.createElement(O.b,{to:"".concat(t.id),onClick:function(){return c&&c(t.id)}},r.a.createElement(S.a,{variant:"h6",component:"h2"}," ",t.name)),t.dt_txt&&r.a.createElement(S.a,{variant:"h6",component:"h2"},"  ",t.dt_txt.slice(0,-3)),a&&r.a.createElement(C.a,{"aria-label":"delete",onClick:function(){return a&&a(n)}},r.a.createElement(R.a,null))),r.a.createElement(H,null,r.a.createElement(N,null,Math.round(t.main.temp<200?t.main.temp:t.main.temp-273.15),"\xb0C"),r.a.createElement("img",{src:"//openweathermap.org/themes/openweathermap/assets/vendor/owm/img/widgets/".concat(t.weather[0].icon,".png"),alt:"weather"})),r.a.createElement("div",{className:"details"},r.a.createElement("hr",null),r.a.createElement("h6",null,"Details"),r.a.createElement(k,null,r.a.createElement("li",null,r.a.createElement("span",null,"Feels like:"),t.main.feels_like,"\xb0C"),r.a.createElement("li",null,r.a.createElement("span",null,"Wind:"),t.wind.speed,"m/s"),r.a.createElement("li",null,r.a.createElement("span",null,"Humidity:"),t.main.humidity,"%"),r.a.createElement("li",null,r.a.createElement("span",null,"Pressure:"),t.main.pressure,"hPa")))))},U=n(109);function G(){var e=Object(w.a)(["\n    display:flex;\n    align-items:center;\n    justify-content:center;\n    width:100%;\n    height:50vh;\n"]);return G=function(){return e},e}var Y=_.a.div(G()),J=function(){return r.a.createElement(Y,null,r.a.createElement(U.a,null))},z=n(38),Q=n(39),X=n(34),B=n(43),P=n(42),V=n(111),$=n(63),q=n(40),K=n(50),Z=n(41),ee=n(110),te=n(35),ne=n.n(te),ae=n(49),re=function(e){return function(t){return function(n){Object(B.a)(c,n);var a=Object(P.a)(c);function c(){var e;return Object(z.a)(this,c),(e=a.call(this)).state={results:[]},e}return Object(Q.a)(c,[{key:"fetchData",value:function(){var t=Object(ae.a)(ne.a.mark((function t(){var n,a;return ne.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e.url);case 3:if((n=t.sent).ok){t.next=6;break}throw Error(n.statusText);case 6:return t.next=8,n.json();case 8:(a=t.sent)&&this.setState({results:a}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.error(t.t0);case 15:case"end":return t.stop()}}),t,this,[[0,12]])})));return function(){return t.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(ae.a)(ne.a.mark((function e(){return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.fetchData();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.results;return r.a.createElement(t,Object.assign({results:e},this.props))}}]),c}(r.a.Component)}},ce=n(62),ie=n.n(ce);function le(){var e=Object(w.a)(["\n  width:320px;\n  margin: 0 auto;\n  position:relative;\n    input {\n        background: rgba(255, 255, 255, 0.7);\n        border: none;\n    }\n"]);return le=function(){return e},e}var oe=_.a.div(le()),se=function(e){Object(B.a)(n,e);var t=Object(P.a)(n);function n(e){var a;return Object(z.a)(this,n),(a=t.call(this,e)).cityInput=void 0,a.searchCity=function(e){e.preventDefault();!function(){var e=function(e,t){var n=new RegExp(e,"gi");return t.filter((function(e){return e.name.match(n)}))}(a.cityInput.current.value,a.props.results).map((function(e){var t=new RegExp(a.cityInput.current.value,"gi");return{name:e.name.replace(t,'<span className="hl2">'.concat(a.cityInput.current.value,"</span>")),index:e.id}}));a.props.searchCitiesMatch(e)}()},a.selectCity=function(e){a.props.addList(e),a.cityInput.current.value="",a.props.searchCitiesMatch([])},a.cityInput=r.a.createRef(),a.searchCity=a.searchCity.bind(Object(X.a)(a)),a.selectCity=a.selectCity.bind(Object(X.a)(a)),a}return Object(Q.a)(n,[{key:"render",value:function(){var e=this,t=this.props.citiesSearchMatch;return r.a.createElement(oe,null,r.a.createElement($.a,{onSubmit:function(t){return e.searchCity(t)}},r.a.createElement(q.a,{controlId:"formAddItem"},r.a.createElement(K.a,{className:"mb-3"},r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{rootRef:this.cityInput},r.a.createElement(Z.a,{placeholder:"London",autoComplete:"off"})),r.a.createElement(K.a.Append,null,r.a.createElement(ee.a,{type:"submit",variant:"contained",color:"primary"},"Search"))))),r.a.createElement("div",{className:ie.a.suggestions},t.length>0&&r.a.createElement("ul",null,t.map((function(t){return r.a.createElement("li",{key:t.index,onClick:function(){return e.selectCity(t.index)}},r.a.createElement("span",{className:"city_name",dangerouslySetInnerHTML:{__html:"".concat(t.name)}}))}))))))}}]),n}(a.Component),ue=re({url:"/json/city.list.min.json"})(se);function he(){var e=Object(w.a)(["\n  color:#000000;\n  text-align:center;\n  width:100%;\n  font-size:2rem;\n  padding-top: 20px;\n"]);return he=function(){return e},e}var Ee=_.a.h1(he()),me=function(e){var t=e.weather,n=e.isFetching,a=e.error,c=e.citiesSearchMatch,i=e.createList,l=e.deleteList,o=e.searchCitiesMatch,s=e.getDailyForecast;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee,null,"weather"),r.a.createElement("div",{style:{width:"100%",textAlign:"center",marginTop:"20px"}},r.a.createElement(ue,{addList:i,citiesSearchMatch:c,searchCitiesMatch:o})),(n||a)&&n?r.a.createElement(J,null):r.a.createElement("div",null,a),!n&&!a&&0===t.length&&r.a.createElement("p",{className:"center"},"While there is no cities"),!n&&!a&&0!==t.length&&t.map((function(e){return r.a.createElement(M,{idList:e.id,weather:e,deleteList:l,getDailyForecast:s})})))},pe=Object(l.b)((function(e){return{weather:e.weather.cities,isFetching:e.weather.isFetching,error:e.weather.error,citiesSearchMatch:e.weather.citiesSearchMatch}}),(function(e){return{createList:function(t){return e(function(e){var t=JSON.parse(localStorage.getItem("WEATHER")).concat(e),n="https://api.openweathermap.org/data/2.5/group?id=".concat(t.join(),"&units=metric&appid=").concat(m);return function(e){e(y(n))}}(t))},deleteList:function(t){return e({type:"LIST/DELETE_LIST",payload:t})},searchCitiesMatch:function(t){return e({type:"WEATHER/MATCH_CITIES",payload:t})},getDailyForecast:function(t){return e(j(t))}}}))((function(e){var t=e.weather,n=e.isFetching,a=e.error,c=e.citiesSearchMatch,i=e.searchCitiesMatch,l=e.createList,o=e.deleteList,s=e.getDailyForecast;return r.a.createElement(me,{createList:l,deleteList:o,searchCitiesMatch:i,citiesSearchMatch:c,getDailyForecast:s,weather:t,isFetching:n,error:a})}));function de(){var e=Object(w.a)(["\n  color:#000000;\n  text-align:center;\n  width:100%; \n  font-size:2rem;\n  padding-top: 20px;\n"]);return de=function(){return e},e}var fe=_.a.h1(de()),ye=function(e){var t=e.cityName,n=e.dailyForecast,a=e.isFetching,c=e.error;return r.a.createElement(r.a.Fragment,null,r.a.createElement(fe,null,"Daily Forecast for 5 days in ",t),(a||c)&&a?r.a.createElement(J,null):r.a.createElement("div",null,c),!a&&!c&&0===n.length&&r.a.createElement("p",{className:"center"},"While there is no cities"),!a&&!c&&0!==n.length&&n.map((function(e){return r.a.createElement(M,{idList:e.id,weather:e})})))},ge=Object(l.b)((function(e){return{cityName:e.dailyForecast.cityName,dailyForecast:e.dailyForecast.dailyForecast,isFetching:e.dailyForecast.isFetching,error:e.dailyForecast.error}}),(function(e){return{getDailyForecast:function(t){return e(j(t))}}}))((function(e){var t=e.getDailyForecast,n=e.cityName,a=e.dailyForecast,c=e.isFetching,i=e.error;return r.a.createElement(ye,{getDailyForecast:t,cityName:n,dailyForecast:a,isFetching:c,error:i})}));function ve(){var e=Object(w.a)(["\n  display: flex;\n  justify-content: center;\n  flex-direction: row;\n  flex-wrap:wrap;\n"]);return ve=function(){return e},e}var be=_.a.section(ve()),Te=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,null,r.a.createElement(be,null,r.a.createElement(F.c,null,r.a.createElement(F.a,{component:pe,path:"/"}),r.a.createElement(F.a,{children:r.a.createElement(ge,null),path:"/:id"})))))};n(84),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(l.a,{store:g},r.a.createElement(Te,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[68,1,2]]]);
//# sourceMappingURL=main.78841bab.chunk.js.map